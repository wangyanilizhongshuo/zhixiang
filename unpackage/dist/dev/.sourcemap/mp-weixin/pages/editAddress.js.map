{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/19217/Desktop/works/zhixiang/智享婴品/pages/editAddress.vue?49e4","webpack:///C:/Users/19217/Desktop/works/zhixiang/智享婴品/pages/editAddress.vue?1425","webpack:///C:/Users/19217/Desktop/works/zhixiang/智享婴品/pages/editAddress.vue?00da","webpack:///C:/Users/19217/Desktop/works/zhixiang/智享婴品/pages/editAddress.vue?cc27","uni-app:///pages/editAddress.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,0C,mDACAA,EAAWC,a;;;;2DCHX,sOACIC,EADJ,qKAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCtBf,4nC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,gvBAAyrB,eAAG,G;;;;02BC0G5rB,CAEE,WAAF,CACI,WAAJ,EACI,KAAJ,EACI,IAAJ,EACI,KAAJ,GAEE,KARF,WASI,MAAJ,CACM,QAAN,EACM,QAAN,GACA,MACA,aACA,SACA,iBACA,aACA,aACA,WACA,gBAGA,OAtBA,SAsBA,GACA,gBACA,8BACA,sCACA,sCACA,8CACA,sCACA,kCACA,yCAEE,QAAF,CACI,iBAAJ,YACM,QAAN,wCACM,IAAN,iBACM,KAAN,2BACM,KAAN,uBACM,KAAN,uBAEM,KAAN,WAII,aAZJ,SAYA,cACM,QAAN,sBACM,IAAN,OAGA,gCACA,YACA,UACA,eACA,GACQ,MAAR,EACQ,OAAR,EACA,SAGM,OAAN,YAIM,EAAN,WACM,EAAN,SACM,EAAN,OACM,EAAN,eACM,EAAN,WACM,EAAN,WAQM,KAAN,4BACQ,GAAR,gCAsBU,OArBA,EAAV,2BACU,EAAV,mBAEU,EAAV,sBACY,GAAZ,4BAac,OAZA,EAAd,uBACc,EAAd,eAEc,EAAd,sBACgB,GAAhB,4BAIkB,OAHA,EAAlB,uBACkB,EAAlB,gBAEA,MAIA,MAIA,KAGM,EAAN,4BAEM,EAAN,UACQ,IAAR,iBACQ,KAAR,IACM,MAAN,YACA,cACA,uBACA,uBAtCQ,KAAR,qB","file":"pages/editAddress.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/editAddress.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./editAddress.vue?vue&type=template&id=531071a1&scoped=true&\"\nvar renderjs\nimport script from \"./editAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./editAddress.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"531071a1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/editAddress.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editAddress.vue?vue&type=template&id=531071a1&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editAddress.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n\r\n\r\n        <!-- 你的html代码 -->\r\n        <div class=\"page\">\r\n            <div class=\"content\">\r\n                <!-- \r\n                <div class=\"com-top\">\r\n                    <div class=\"arrow-l\" @click='jump' data-url=' ' data-type='6'></div>\r\n                    <div class=\"page-title\">新增地址</div>\r\n                    <div class=\"save-1\">\r\n                        <a class=\"addsiteserve\" href=\"javascript:;\"  @click='jump' data-url=' ' data-type='6' >保存</a>\r\n                    </div>\r\n                </div>\r\n                 -->\r\n                <div class=\"list-block mt0\">\r\n                    <ul>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">收货人</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <input type=\"text\" id=\"name\" maxlength=\"8\" class=\"weui-input\" placeholder=\"请输入收货人姓名\" v-model='article.addressee'>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">联系号码</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <input type=\"text\" id=\"phone\" maxlength=\"11\" onkeyup=\"value=value.replace(/[^\\d]/g,'')\" class=\"weui-input\"\r\n                                                placeholder=\"请输入收货人联系方式\" v-model='article.phone'>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">所在地区</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <!-- <input type=\"text\" id='city-picker2' value=\"\" class=\"weui-input\" placeholder=\"请选择城市\"> -->\r\n                                            \r\n                                              <picker mode=\"region\" \r\n                                                @change=\"bindRegionChange\" \r\n                                                  :value=\"[\r\n                                                    article.province_name,\r\n                                                    article.city_name,\r\n                                                    article.area_name\r\n                                                   ]\"\r\n                                                >\r\n                                                \r\n                                                <input type=\"text\" id='city-picker2' value=\"\" class=\"weui-input\" placeholder=\"请选择城市\" disabled  \r\n                                                :value=\"\r\n                                                    (article.province_name||'')+\r\n                                                    (article.city_name||'')+\r\n                                                    (article.area_name||'')\r\n                                                \">\r\n                                              </picker>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                            \r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">详细地址</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <textarea class=\"weui-input editAddress-area\" id=\"address-de\" name=\"\" placeholder=\"请输入详情地址\" v-model='article.address'></textarea>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell weui-cell_switch\" >\r\n                                        <div class=\"weui-cell__bd\">设为默认地址</div>\r\n                                        <div class=\"weui-cell__ft\">\r\n                                            <!-- <input type=\"checkbox\" id=\"check\" class=\"weui-switch\"> -->\r\n                                            <switch  :checked=\"article.is_default\" @change=\"trigger\" data-name='article.is_default' />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            </ul>\r\n\r\n                <button class=\"page_btn\" @click='address_save' >保存</button>\r\n\r\n            </div>\r\n        </div>\r\n        </div>\r\n        \r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import main from \"@/component/css/main\";\r\n    import jzl from \"@/component/css/jzl\";\r\n    import site from \"@/component/css/site\";\r\n    import addAddress from \"@/component/css/page/addAddress\";\r\n\r\n\r\n    export default {\r\n\r\n        components: {\r\n            addAddress,\r\n            site,\r\n            jzl,\r\n            main,\r\n        },\r\n        data() {\r\n            return {\r\n                drawing: 0,\r\n                article: {},\r\n\t\t\t\tid:'',\r\n\t\t\t\taddressee:'',\r\n\t\t\t\tphone:'',\r\n\t\t\t\tprovince_name:'',\r\n\t\t\t\tcity_name:'',\r\n\t\t\t\tarea_name:'',\r\n\t\t\t\taddress:'',\r\n\t\t\t\tis_default:\"\"              \r\n            }\r\n        },\r\n\t\tonLoad(options){\r\n\t\t\tthis.setData(options)\r\n\t\t\tthis.article.phone=this.phone;\r\n\t\t\tthis.article.addressee=this.addressee;\r\n\t\t\tthis.article.city_name=this.city_name;\r\n\t\t\tthis.article.province_name=this.province_name;\r\n\t\t\tthis.article.area_name=this.area_name;\r\n\t\t\tthis.article.address=this.address;\r\n\t\t\tthis.article.is_default=this.is_default;\r\n\t\t},\r\n        methods: {\r\n            bindRegionChange: function (e) {\r\n                console.log('picker发送选择改变，携带值为', e.detail.value)\r\n                var arr = e.detail.value;\r\n                this.article.province_name = arr[0];\r\n                this.article.city_name = arr[1];\r\n                this.article.area_name = arr[2];\r\n                // this.article = this.article;\r\n                this.drawing++;\r\n            },\r\n            \r\n            //新增地址\r\n            address_save(e) {\r\n                console.log('新增地址', arguments);\r\n                    let that=this;\r\n              \r\n\r\n                var userData = wx.getStorageSync('userData');\r\n                var userId = userData.user.id;\r\n                var token = userData.token;\r\n                var adr = this.article;\r\n                var data = {\r\n                        token: token,\r\n                        userId: userId,\r\n\t\t\t\t\t\tid:that.id\r\n                        // id:adr.id,\r\n                    };\r\n                    Object.assign(data,adr);\r\n\r\n                if(\r\n                    !(\r\n                        adr.addressee&&\r\n                        adr.address&&\r\n                        adr.phone&&\r\n                        adr.province_name&&\r\n                        adr.city_name&&\r\n                        adr.area_name&&\r\n                        true\r\n                    )\r\n                ){\r\n                    this.toastTip('请完善信息')\r\n                    return\r\n                }\r\n\r\n                this.city_data.some(item=>{\r\n                    if(item.name==this.article.province_name){\r\n                        this.article.province_id=item.code;\r\n                        data.province_id=item.code;\r\n\r\n                        item.sub.some(item=>{\r\n                            if(item.name==this.article.city_name){\r\n                                this.article.city_id=item.code;\r\n                                data.city_id=item.code;\r\n\r\n                                item.sub.some(item=>{\r\n                                    if(item.name==this.article.area_name){\r\n                                        this.article.area_id=item.code;\r\n                                        data.area_id=item.code;\r\n\r\n                                        return true;\r\n                                    }\r\n                                })\r\n\r\n                                return true;\r\n                            }\r\n                        })\r\n\r\n                        return true;\r\n                    }\r\n                })\r\n                data.is_default = data.is_default?1:0;\r\n\r\n                uni.wjw_http({\r\n                    url: \"address/update\",\r\n                    data: data,\r\n                }).then(res => {\r\n\t\t\t\t\tif(res.status ==0){\r\n\t\t\t\t\t\tconsole.log('success')\r\n\t\t\t\t\t\twx.navigateBack()\r\n\t\t\t\t\t}\r\n                })\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n\r\n\r\n</style>\r\n\r\n\r\n"],"sourceRoot":""}