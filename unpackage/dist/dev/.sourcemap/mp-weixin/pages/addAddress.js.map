{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/addAddress.vue?5d67","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/addAddress.vue?f897","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/addAddress.vue?0283","uni-app:///pages/addAddress.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iG;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;;;AAGzD;AAC6K;AAC7K,gBAAgB,uLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAypB,CAAgB,sqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+F7qB;;AAEA;AACA,0BADA;AAEA,cAFA;AAGA,YAHA;AAIA,cAJA,EAFA;;AAQA,MARA,kBAQA;AACA;AACA,gBADA;AAEA,iBAFA;;;AAKA,GAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;;AAWA;AACA,gBAZA,wBAYA,CAZA,EAYA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AAHA;AAKA;;AAEA;AACA;AACA;AACA,iBADA;AAEA,eAFA;AAGA,uBAHA;AAIA,mBAJA;AAKA,mBALA;AAMA,UAPA,CADA;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAPA;;AASA;AACA;AACA,WAhBA;;AAkBA;AACA;AACA,OAzBA;AA0BA;;AAEA;AACA,2BADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA,OAPA;AAQA,KA/EA,EAfA,E","file":"pages/addAddress.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/addAddress.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addAddress.vue?vue&type=template&id=69aeebcc&\"\nvar renderjs\nimport script from \"./addAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./addAddress.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/addAddress.vue\"\nexport default component.exports","export * from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addAddress.vue?vue&type=template&id=69aeebcc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addAddress.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <!-- 你的html代码 -->\r\n        <div class=\"page\" style=\"position: relative;top:0;left:0;height:100vh;\">\r\n            <div class=\"content\">           \r\n                <div class=\"list-block mt0\">\r\n                    <ul>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">收货人</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <input type=\"text\" id=\"name\" maxlength=\"8\" class=\"weui-input\" placeholder=\"请输入收货人姓名\" v-model='article.addressee'>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">联系号码</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <input type=\"text\" id=\"phone\" maxlength=\"11\" onkeyup=\"value=value.replace(/[^\\d]/g,'')\" class=\"weui-input\"\r\n                                                placeholder=\"请输入收货人联系方式\" v-model='article.phone'>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">所在地区</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <!-- <input type=\"text\" id='city-picker2' value=\"\" class=\"weui-input\" placeholder=\"请选择城市\"> -->\r\n                                            \r\n                                              <picker mode=\"region\" \r\n                                                @change=\"bindRegionChange\" \r\n                                                  :value=\"[\r\n                                                    article.province_name,\r\n                                                    article.city_name,\r\n                                                    article.area_name\r\n                                                   ]\"\r\n                                                >\r\n                                                \r\n                                                <input type=\"text\" id='city-picker2' value=\"\" class=\"weui-input\" placeholder=\"请选择城市\" disabled  \r\n                                                :value=\"\r\n                                                    (article.province_name||'')+\r\n                                                    (article.city_name||'')+\r\n                                                    (article.area_name||'')\r\n                                                \">\r\n                                              </picker>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                            \r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell\">\r\n                                        <div class=\"weui-cell__hd\"><label class=\"weui-label\">详细地址</label></div>\r\n                                        <div class=\"weui-cell__bd\">\r\n                                            <textarea class=\"weui-input editAddress-area\" id=\"address-de\" name=\"\" placeholder=\"请输入详情地址\" v-model='article.address'></textarea>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div class=\"weui-cells_form\">\r\n                                    <div class=\"weui-cell weui-cell_switch\" >\r\n                                        <div class=\"weui-cell__bd\">设为默认地址</div>\r\n                                        <div class=\"weui-cell__ft\">\r\n                                            <!-- <input type=\"checkbox\" id=\"check\" class=\"weui-switch\"> -->\r\n                                            <switch  :checked=\"article.is_default\" @change=\"trigger\" data-name='article.is_default' />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            </ul>\r\n\r\n                <button class=\"page_btn\" style=\"margin:0;width:750rpx;position:absolute;left:0;bottom:0;background-color: #FF7599;\" @tap='address_save' >保存</button>\r\n\r\n            </div>\r\n        </div>\r\n        </div>\r\n        \r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import main from \"@/component/css/main\";\r\n    import jzl from \"@/component/css/jzl\";\r\n    import site from \"@/component/css/site\";\r\n    import addAddress from \"@/component/css/page/addAddress\";\r\n\r\n\r\n    export default {\r\n\r\n        components: {\r\n            addAddress,\r\n            site,\r\n            jzl,\r\n            main,\r\n        },\r\n        data() {\r\n            return {\r\n                drawing: 0,\r\n                article: {}\r\n                \r\n            }\r\n        },\r\n        methods: {\r\n            bindRegionChange: function (e) {\r\n                console.log('picker发送选择改变，携带值为', e.detail.value)\r\n                var arr = e.detail.value;\r\n                this.article.province_name = arr[0];\r\n                this.article.city_name = arr[1];\r\n                this.article.area_name = arr[2];\r\n                // this.article = this.article;\r\n                this.drawing++;\r\n            },\r\n            \r\n            //新增地址\r\n            address_save(e) {\r\n                console.log('新增地址', arguments);\r\n\r\n                // this.toastTip(JSON.stringify(this.article))\r\n                // return\r\n\r\n                var userData = wx.getStorageSync('user');\r\n               \r\n                var adr = this.article;\r\n                var data = {\r\n            \r\n                        userId: userData.id,\r\n                        // id:adr.id,\r\n                    };\r\n                    Object.assign(data,adr);\r\n\r\n                if(\r\n                    !(\r\n                        adr.addressee&&\r\n                        adr.address&&\r\n                        adr.phone&&\r\n                        adr.province_name&&\r\n                        adr.city_name&&\r\n                        adr.area_name&&\r\n                        true\r\n                    )\r\n                ){\r\n                    this.toastTip('请完善信息')\r\n                    return\r\n                }\r\n\r\n                this.city_data.some(item=>{\r\n                    if(item.name==this.article.province_name){\r\n                        this.article.province_id=item.code;\r\n                        data.province_id=item.code;\r\n\r\n                        item.sub.some(item=>{\r\n                            if(item.name==this.article.city_name){\r\n                                this.article.city_id=item.code;\r\n                                data.city_id=item.code;\r\n\r\n                                item.sub.some(item=>{\r\n                                    if(item.name==this.article.area_name){\r\n                                        this.article.area_id=item.code;\r\n                                        data.area_id=item.code;\r\n\r\n                                        return true;\r\n                                    }\r\n                                })\r\n\r\n                                return true;\r\n                            }\r\n                        })\r\n\r\n                        return true;\r\n                    }\r\n                })\r\n                data.is_default = data.is_default?1:0;\r\n\r\n                uni.wjw_http({\r\n                    url: \"address/save\",\r\n                    data: data,\r\n                }).then(res => {\r\n\t\t\t\t\tif(res.status ==0){\r\n\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t}\r\n                })\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n</style>\r\n\r\n<!--  \r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <title>新增地址</title>\r\n    <meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1\">\r\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\r\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\">\r\n    \r\n</head>\r\n<body>\r\n\r\n<script type='text/javascript' src='../lib/jquery/jquery.js' charset='utf-8'></script>\r\n<script type='text/javascript' src='../lib/jquery/jquery.cookie.js' charset='utf-8'></script>\r\n<script type=\"text/javascript\" src='../lib/jquery-weui/jquery-weui.js'></script>\r\n<script type=\"text/javascript\" src='../js/city-picker.js'></script>\r\n<script src=\"../js/main.js\"></script>\r\n<script src=\"../js/page.js\"></script>\r\n<script type=\"text/javascript\" src=\"../del/main11.js\"></script>\r\n<script>\r\n\r\n    $(\"#city-picker2\").cityPicker({\r\n        title: \"所在地区\",\r\n        onChange: function (picker, values, displayValues) {\r\n    }\r\n });\r\n   $(function(){\r\n\r\n    /*$(\".arrow-l\").on(\"click\", function () {\r\n        history.go(-1);\r\n        return false;\r\n    })*/\r\n      $(\".addsiteserve\").on(\"click\",function(){\r\n        nottoLog();//判断登录\r\n\r\n        var userData = JSON.parse(localStorage.userData);//用户信息\r\n        var userId =parseInt(userData.id); \r\n        var token = userData.token;\r\n        var Src = datasrc + \"address/save\";\r\n        var name=$(\"#name\").val();\r\n        var address=$(\"#address-de\").val();//详情地址\r\n        var phone=$(\"#phone\").val();\r\n\r\n        var city=$(\"#city-picker2\").attr(\"data-codes\");\r\n        var arr=city.split(',');\r\n        var province_id=arr[0];\r\n        var city_id=arr[1];\r\n        var area_id=arr[2];\r\n        if(name==\"\"){\r\n            $.toast(\"请输入收货人姓名\",\"text\");\r\n            return false; \r\n        }\r\n        if(phone==\"\"){\r\n            $.toast(\"请输入收货人联系方式\",\"text\");\r\n            return false; \r\n        } \r\n        if(city==\"\"){\r\n            $.toast(\"请选择城市\",\"text\");\r\n            return false; \r\n        } \r\n        if(address==\"\"){\r\n            $.toast(\"请输入详情地址\",\"text\");\r\n            return false; \r\n        }     \r\n        var is_default=\"\";//默认选择\r\n        if($(\"#check\").is(\":checked\")){\r\n            is_default=1;\r\n        }else{\r\n            is_default=0;\r\n        }\r\n\r\n        $.post(Src, {token: token, userId: userId, addressee:name,address:address,phone:phone, is_default:is_default, province_id:province_id,city_id:city_id,area_id:area_id}, function (data) {\r\n                 if (data) {\r\n                     if (data.status == -1) {\r\n                        $.toast(data.msg,\"text\");\r\n                     } else if (data.status == 0) {\r\n                        $.toast('添加成功',\"text\");\r\n                        history.go(-1);\r\n                     } else {\r\n                        $.toast(data.msg,\"text\");\r\n                     }\r\n                 }\r\n             });\r\n\r\n      })\r\n\r\n\r\n          \r\n   }) \r\n</script>\r\n</body>\r\n</html>\r\n-->\r\n"],"sourceRoot":""}