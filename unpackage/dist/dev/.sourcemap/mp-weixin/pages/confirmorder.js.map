{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?60ea","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?f98a","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?80dd","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?d63b","uni-app:///pages/confirmorder.vue","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?56dc","webpack:///C:/Users/19217/Desktop/works/zhixiang/pages/confirmorder.vue?984c","webpack:///C:/Users/19217/Desktop/works/zhixiang/common/wjw_uni/wjw_com.wxs?5579","webpack:///C:/Users/19217/Desktop/works/zhixiang/common/wjw_uni/wjw_com.wxs?9a03"],"names":["createPage","Page"],"mappings":"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A,cAVA;AAWA,uBAXA,SAFA;;AAeA,UAfA,CAeA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;;AAEA,OA7BA,EA6BA,KA7BA,CA6BA;AACA;AACA,OA/BA;;AAiCA,KAvGA;;AAyGA;AACA,eA1GA,uBA0GA,SA1GA,EA0GA,OA1GA,EA0GA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA;AACA,oBADA;AAEA,sBAFA;AAGA;AACA,8BAJA;AAKA,yBALA;AAMA,0BANA;AAOA,oBAPA;AAQA,2BARA;AASA,qCATA,EAFA;;AAaA,UAbA,CAaA;AACA;AACA;AACA;AACA;AACA,OAlBA;AAmBA,KAvIA;;AAyIA;AACA,kBA1IA,0BA0IA,SA1IA,EA0IA,SA1IA,EA0IA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BADA;AAEA;AACA,oBADA;AAEA,8BAFA;AAGA,8BAHA;AAIA,mBAJA;AAKA,oBALA,EAFA;;AASA,UATA,CASA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;;AAEA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;;;;;AAKA,OA3BA;AA4BA,KA7KA;AA8KA;AACA;AACA,mBAhLA,2BAgLA,IAhLA,EAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,mDARA,CAQA;AACA;AACA;AACA;AACA;AACA,KAjMA;AAkMA;AACA,eAnMA,yBAmMA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA;AACA,+BADA;AAEA,kCAFA;AAGA;AACA,mBAJA,EAHA;;AASA,UATA,CASA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAtBA;AAuBA,OAnCA;;AAqCA,KA3OA;AA4OA;AACA,UA7OA,kBA6OA,KA7OA,EA6OA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzPA;AA0PA;AACA,WA3PA,qBA2PA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,KApQA;AAqQA;AACA,UAtQA,oBAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KAtRA;AAuRA;AACA,YAxRA,sBAwRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA,KArSA;AAsSA;AACA,YAvSA,sBAuSA;AACA;AACA;AACA;AACA,sWADA;;AAGA,KA7SA,EA5FA,E;;;;;;;;;;;;;ACnPA;AAAA;AAAA;AAAA;AAAguC,CAAgB,krCAAG,EAAC,C;;;;;;;;;;;ACApvC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA,wCAAuU,CAAgB,wYAAG,EAAC,C;;;;;;;;;;;;ACA3V;AAAe;AACf;AACA;AACA;;AAEA,M","file":"pages/confirmorder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/confirmorder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmorder.vue?vue&type=template&id=5dae12f2&scoped=true&filter-modules=eyJ3andfd3hzIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiIiwic3RhcnQiOjExOTUyLCJhdHRycyI6eyJtb2R1bGUiOiJ3andfd3hzIiwibGFuZyI6Ind4cyIsInNyYyI6IkAvY29tbW9uL3dqd191bmkvd2p3X2NvbS53eHMifSwiZW5kIjoxMTk1Mn19&\"\nvar renderjs\nimport script from \"./confirmorder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmorder.vue?vue&type=style&index=0&id=5dae12f2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dae12f2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"@/common/wjw_uni/wjw_com.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C19217%5CDesktop%5Cworks%5Czhixiang%5Cpages%5Cconfirmorder.vue&module=wjw_wxs&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/confirmorder.vue\"\nexport default component.exports","export * from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=template&id=5dae12f2&scoped=true&filter-modules=eyJ3andfd3hzIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiIiwic3RhcnQiOjExOTUyLCJhdHRycyI6eyJtb2R1bGUiOiJ3andfd3hzIiwibGFuZyI6Ind4cyIsInNyYyI6IkAvY29tbW9uL3dqd191bmkvd2p3X2NvbS53eHMifSwiZW5kIjoxMTk1Mn19&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.packets_show = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.jifen_show = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.jifen_show = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.jifen_show = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"page-main\">\r\n\t\t\t<view class=\"confirmorder-top \" style='margin-top: 8px;' v-if='articleList.length==0'>\r\n\t\t\t\t<view class=\"addrder AddTheaddress\" @click='jump' data-url='/pages/addressManage' data-types='choose'><span>你还没有添加收货地址\r\n\t\t\t\t\t\t点击这里添加<span></span></span></view>\r\n\t\t\t</view>\r\n\t\t\t<block v-if='articleList.length'>\r\n\t\t\t\t<view class=\"confirmorder-top \" style='margin-top: 8px;' @click='jump' data-url='/pages/addressManage' data-types='choose'\r\n\t\t\t\t v-for=\"(info,index) in articleList\" :key='index' v-if=\"addressid =='没有这个参数'?index==0:(info.id == (addressnum||addressid))\">\r\n\t\t\t\t\t<p class=\"confirmorder-top-per\">收货人:&nbsp;{{info.addressee}}</p> <span class=\"confirmorder-top-tel\">{{info.phone}}</span>\r\n\t\t\t\t\t<img src=\"http://zxyp.hzbixin.cn/files/311600415912418.jpg\">\r\n\t\t\t\t\t<p class=\"confirmorder-top-add\">{{info.province_name + info.city_name + info.area_name + info.address}}</p>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<view class=\"address_bar\">\r\n\t\t\t\t<img src=\"http://zxyp.hzbixin.cn/files/69311600415949059.jpg\" alt=\"\">\r\n\t\t\t</view>\r\n\t\t\t<view id=\"concon\">\r\n\t\t\t\t<view class=\"confirmorder-middle\" v-for=\"(goods,index) in carList\" :key='index+\"11\"' v-if='carList.length>0'>\r\n\t\t\t\t\t<img :src=\"goods.pic\" alt=\"\">\r\n\t\t\t\t\t<p class=\"confirmorder-middle-num\">{{ goods.title}}</p>\r\n\t\t\t\t\t<p class=\"confirmorder-middle-gg\">规格：<span>{{goods.attr_name}}</span></p>\r\n\t\t\t\t\t<p class=\"confirmorder-middle-price\"><span>¥{{goods.price}}</span><span style=\"\r\n                    margin-left: 20rpx;\">积分：{{goods.points}}</span></p>\r\n\t\t\t\t\t<span class=\"confirmorder-middle-amount\">×<span>{{goods.buy_num}}</span></span>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"confirmorder-middle2\" v-if='carList.length==0'><img :src=\"goods.saleEvent.pic\" alt=\"\">\r\n\t\t\t\t<p class=\"confirmorder-middle-num\">{{goods.goods.name}}</p>\r\n\t\t\t\t<p class=\"confirmorder-middle-gg\">规格：<span>{{name}}</span></p>\r\n\t\t\t\t<p class=\"confirmorder-middle-price\"><span>¥{{price}}</span> <span>积分{{points}}</span></p> <span class=\"confirmorder-middle-amount\">×<span>{{num}}</span></span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"confirmorder-send\">\r\n\t\t\t\t<view class=\"expressChoice styleAll\">\r\n\t\t\t\t\t<p class=\"left\">配送方式</p>\r\n\t\t\t\t\t<p class=\"right\">快递：<span id=\"express\">￥{{express||'0.00'}}</span></p>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"beizhu styleAll\">\r\n\t\t\t\t\t<p class=\"left\">备注</p>\r\n\t\t\t\t\t<input class=\"right\" type=\"text\" maxlength=\"30\" id=\"memo\" placeholder=\"请输入备注信息\" v-model='memo'>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"styleAll\">\r\n\t\t\t\t\t<view class=\"left\">共计商品\r\n\t\t\t\t\t\t<text id=\"numm\" style=\"color:#ff4d49\">&nbsp;&nbsp;{{type==0?num:sumNUMber}}&nbsp;&nbsp;</text>件\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t <!-- <text id=\"numm\" style=\"color:#ff4d49\">&nbsp;&nbsp;{{num}}大{{sumNUMber}}&nbsp;&nbsp;</text>件 -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"right\" style=\"display: flex;\">\r\n\t\t\t\t\t\t<p>合计:</p>\r\n\t\t\t\t\t\t<p id=\"zong\" style=\"color:#ff4d49\">¥{{ totalmPrice || ( type==0 ? num*price :carSumMoney) }} 积分{{total_points||( type==0?points*num:carSumji )}}</p>\r\n\t\t\t\t\t\t<!-- <p id=\"zong\" style=\"color:#ff4d49\">¥{{ totalmPrice || ( type==0 ? price*num :carList.reduce( function(prev, goods, idx, arr){return prev + (goods.price / 100) * goods.buy_num;\r\n\t\t\t\t\t\t\t   }, 0)) }} 积分{{total_points||( type==0?points*num:carList.reduce(function(prev, goods, idx, arr){return prev + (goods.points / 100) * goods.buy_num;},0) )}}</p\r\n\t\t\t\t\t\t\t> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"confirmorder-hb\">\r\n\t\t\t\t<view class=\"envelopes styleAll\" @tap.stop='packets_show=true'>\r\n\t\t\t\t\t<p class=\"left\">红包</p>\r\n\t\t\t\t\t<view id=\"use\" class=\"tr right\">\r\n\t\t\t\t\t\t<text style=\"color: #FF7599\" v-if=\"useRedPacket\">1个已使用</text>\r\n\t\t\t\t\t\t<text  style=\"color: #bfbfbf\" v-if=\"!useRedPacket\">未使用</text>\r\n\t\t\t\t\t\t<img  src=\"http://zxyp.hzbixin.cn/files/74201600415986744.jpg\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"styleAll\">\r\n\t\t\t\t\t<view class=\"left\">红包</view>\r\n\t\t\t\t\t<view class=\"tr right\" id=\"tern\">\r\n\t\t\t\t\t\t<text style=\"color: #bfbfbf\" v-if=\"!useRedPacket\">未使用</text>\r\n\t\t\t\t\t\t<text style=\"color: #FF7599;font-size:28rpx;inline-block ;width:120rpx;text-align: left;\" v-if=\"useRedPacket\">-{{useRedPacket}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"Selflifting styleAll\">\r\n\t\t\t\t\t<view class=\"left\">是否自提</view>\r\n\t\t\t\t\t<!-- <label for=\"isSelfTake\"><input class=\"mui-switch\" type=\"checkbox\" id=\"isSelfTake\" value=\"1\" v-model='isSelfTake'></label> -->\r\n\t\t\t\t\t<view class=\"right\" style=\"margin-right:30rpx\" for=\"isSelfTake\">\r\n\t\t\t\t\t\t<switch style=\"zoom:0.9\" id=\"isSelfTake\" :checked=\"isSelfTake\" @change=\"selfRaise\" data-name='isSelfTake' />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"confirmorder-botton styleAll\">\r\n\t\t\t<view class=\"botton-mon\">\r\n\t\t\t\t实付金额:\r\n\t\t\t\t<!-- <text id=\"zong2\" price=\"\" points=\"\" style=\"color:#ff4d49\">{{ totalmPrice ||\r\n                    ( type==0? \r\n\t\t\t\t\t  price*num :\r\n\t\t\t\t\t carList.reduce(function(prev, goods, idx, arr){ return prev + (goods.price / 100) * goods.buy_num; },\r\n                   0 )  )}}</text> -->\r\n\t\t\t\t<text id=\"zong2\" price=\"\" points=\"\" style=\"color:#ff4d49\">{{ totalmPrice ||\r\n\t\t\t\t    ( type==0? \r\n\t\t\t\t\t  detailSumMoney :\r\n\t\t\t\t\tuserRedSumMoney)}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"botton-finish\" @click='jifen_show=true'>结算</view>\r\n\t\t\t<input type=\"hidden\" id=\"couponid\" value=\"\">\r\n\t\t</view>\r\n\t\t<!--遮罩-->\r\n\t\t<view class=\"mask-layer\" style=\"display: block;\" v-if='jifen_show' @click='jifen_show=false'></view>\r\n\t\t<view class=\"tips\" style=\"display: block;\" v-if='jifen_show'>\r\n\t\t\t<p class=\"tips-text1\">提示</p>\r\n\t\t\t<p class=\"tips-text2\">确认提交订单?</p>\r\n\t\t\t<view class=\"tips-button\">\r\n\t\t\t\t<view class=\"tips-cancle\" @click='jifen_show=false'>取消</view>\r\n\t\t\t\t<view class=\"tip-line\"></view>\r\n\t\t\t\t<view class=\"tips-confirm\" @click='payMoney' >确定</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"packets\">\r\n\t\t\t<!--红包-->\r\n\t\t\t<view class=\"packets-top\">\r\n\t\t\t\t<view class=\"packets-arrow\">关闭</view>\r\n\t\t\t\t<view class=\"packets-title\">我的红包</view>\r\n\t\t\t\t<view class=\"packets-save\">\r\n\t\t\t\t\t<!--<a href=\"javascript:;\">使用规则</a>-->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"app-cont\">\r\n\t\t\t\t<view class=\"tab\">\r\n\t\t\t\t\t<view class=\"tab-box\"><a class=\"atian\" status=\"0\" href=\"javascript:;\">未使用</a></view>\r\n\t\t\t\t\t<view class=\"tab-box\"><a status=\"1\" href=\"javascript:;\">已使用</a></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab-cont\" style=\"height: 482px;\">\r\n\t\t\t\t\t<view class=\"list-main-mian infinite\" id=\"listwrap\" style=\"height:100%; position: relative;  overflow:auto;  z-index: 1\">\r\n\t\t\t\t\t\t<view class=\"scroll-box\">\r\n\t\t\t\t\t\t\t<ul></ul>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-fell\">\r\n\t\t\t\t<view class=\"fell-box\"><a id=\"donotuse\" href=\"javascript:;\">不使用红包</a></view>\r\n\t\t\t\t<view class=\"fell-box\"><a id=\"sure\" href=\"javascript:;\" >确定使用</a></view>\r\n\t\t\t</view>\r\n\t\t\t<input type=\"hidden\" id=\"status\" value=\"0\">\r\n\t\t</view>\r\n\t\t<view class=\"packets\" style=\"display: block;\" v-if='packets_show'>\r\n\t\t\t<!--红包-->\r\n\t\t\t<view class=\"packets-top\">\r\n\t\t\t\t<view class=\"packets-arrow\" @click='closeRed()'>关闭</view>\r\n\t\t\t\t<view class=\"packets-title\">我的红包</view>\r\n\t\t\t\t<view class=\"packets-save\">\r\n\t\t\t\t\t<!--<a href=\"javascript:;\">使用规则</a>-->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"app-cont\">\r\n\t\t\t\t<!-- <view class=\"tab\">\r\n\t\t\t\t\t<view class=\"tab-box\"><a class=\"atian\" status=\"0\" href=\"javascript:;\">未使用</a></view>\r\n\t\t\t\t\t<view class=\"tab-box\"><a status=\"1\" href=\"javascript:;\">已使用</a></view>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"tab-cont\" style=\"height: 482px;\">\r\n\t\t\t \t<view class=\"list-main-mian infinite\" id=\"listwrap\" style=\"height:100%; position: relative;  overflow:auto;  z-index: 1\">\r\n\t\t\t\t\t\t<view class=\"scroll-box\">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li v-for=\"(item,index) in redList\" :key='index+\"12\"' :data-id=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t<label for=\"s56988\" class=\"\" :class='item.redType==1?\"bui-checkbox-label bui-checkbox-anim\":\"bui-radios-label bui-radios-anim\"'>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cont-txt\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"txt-box \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-name \" :class='item.status==1?\"color2\":\"\"'>{{\r\n                                                    item.redType==1\r\n                                                        ?\r\n                                                        '逢8必折专区红包'\r\n                                                        :\r\n                                                            item.redType==2\r\n                                                            ?\r\n                                                            '智享婴品新人红包'\r\n                                                            :\r\n                                                                item.redType==3\r\n                                                                ?\r\n                                                                '充值优惠券'\r\n                                                                :\r\n                                                                ''\r\n                                                }}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<block class=\"block\" v-if='item.redType==1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"position\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <checkbox type=\"checkbox\" name=\"checkbox\" :limitmone=\"item.limitMoney\" class=\"choose choice1\" :value=\"item.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t typeof=\"1\" :id=\"'s'+item.id\" /> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t <radio type=\"radio\" name=\"radio\" :limitmone=\"item.limitMoney\" class=\"choose choice1\" :value=\"item.flags\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  typeof=\"1\" :id=\"'s'+item.id\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <i class=\"bui-checkbox\"></i> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color\">满{{item.limitMoney/100}}可用</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color\">每月8日、18日、28日可用</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<block class=\"block\" v-if='item.redType==2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block class=\"block\" v-if='item.status==0'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"position\" @click=\"choice(index)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"!item.flags\" style=\"width:40rpx;height:36rpx\" src=\"http://zxyp.hzbixin.cn/files/79841600416030911.jpg\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<radio v-if=\"item.flags\" style=\"zoom: 0.8;\" type=\"radio\" name=\"radio\" :limitmone=\"item.limitMoney\" class=\"choose choice\" checked=\"item.flags\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t typeof=\"2\" :id=\"'s'+item.id\" /><i class=\"bui-radios\"></i></view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color\">满{{item.limitMoney/100}}可用</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color\"></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<block class=\"block\" v-if='item.redType==3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block class=\"block\" v-if='item.status==0'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"position\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<image  v-if=\"!item.flags\" style=\"width:30rpx;height:36rpx\" src=\"http://zxyp.hzbixin.cn/files/79841600416030911.jpg\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<radio v-if=\"item.flags\" style=\"zoom: 0.8;\" type=\"radio\" name=\"radio\" :limitmone=\"item.limitMoney\" class=\"choose choice\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t typeof=\"3\" :id=\"'s'+item.id\" /><i class=\"bui-radios\"></i></view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color limitmoney\">满{{item.limitMoney/100}}可用</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"coupon-color\"></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"txt-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"price color1 \" :money=\"wjw_wxs.toFixed(item.money/100,2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>￥</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<em class=\"price-one\">{{wjw_wxs.split(wjw_wxs.toFixed(item.money/100,2),'.')[0]}}</em>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"price-two\">.{{wjw_wxs.split(wjw_wxs.toFixed(item.money/100,2),'.')[1]}}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cont-font\">限手机号 {{item.phone}} 的用户使用</view>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-fell\">\r\n\t\t\t\t<view class=\"fell-box\" @click=\"useless\"><a id=\"donotuse\"  >不使用红包</a></view>\r\n\t\t\t\t<view class=\"fell-box\"  @click=\"useful\"><a id=\"sure\" >确定使用</a></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<input type=\"hidden\" id=\"status\" value=\"0\">\r\n\t\t</view>\r\n\t\t<view class=\"hbyOccurFlag\" v-if=\"signalFlag\">请重新登录</view>\r\n\t</view>\r\n</template>\r\n<script module=\"wjw_wxs\" lang=\"wxs\" src=\"@/common/wjw_uni/wjw_com.wxs\"></script>\r\n<script>\r\n\timport main from \"@/component/css/main\";\r\n\timport styel from \"@/component/css/styel\";\r\n\timport reset1 from \"@/component/css/reset1\";\r\n\timport cj from \"@/component/css/cj\";\r\n\timport cj_1 from \"@/component/css/cj_1\";\r\n\timport red_packets from \"@/component/css/red_packets\";\r\n\timport confirmorder from \"@/component/css/page/confirmorder\";\r\n\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {\r\n\t\t\tconfirmorder,\r\n\t\t\tred_packets,\r\n\t\t\tcj_1,\r\n\t\t\tcj,\r\n\t\t\treset1,\r\n\t\t\tstyel,\r\n\t\t\tmain,\r\n\t\t},\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsignalFlag:false,\r\n\t\t\t\tsignalMsg:'',\r\n\t\t\t\tpackets_show: false,\r\n\t\t\t\tjifen_show: false,\r\n\t\t\t\ttype: 0, // 0-商品详情页的商品 1-购物车的商品\r\n\t\t\t\tid: '', // 商品详情页商品的id  \r\n\t\t\t\tid2: '', // 规格id\r\n\t\t\t\t// 使用红包得金额\r\n\t\t\t\tdetailSumMoney:0,\r\n\t\t\t\tnum: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\tpoints: '',\r\n\t\t\t\tbuy_num: '', // 购买数量，get参数\r\n\t\t\t\tredId: '', // 红包id\r\n\t\t\t\trepIds:'',//商品规格\r\n\t\t\t\tmemo: '', // 备注\r\n\t\t\t\tisSelfTake: false, //是否自提\r\n\t\t\t\texpress: '', // 快递费  \r\n\t\t\t\ttotalmPrice: 0, // 总价  \r\n\t\t\t\ttotal_points: '', // 总积分  \r\n\t\t\t\tgoods: {},\r\n\t\t\t\tcarList: [],\r\n\t\t\t\tcartid: 0, //购物车的id  \r\n\t\t\t\tindexcartid: '',\r\n\t\t\t\tarticleList: [],\r\n\t\t\t\taddressnum: '',\r\n\t\t\t\taddressid: '',\r\n\t\t\t\tredList: [],\r\n\t\t\t\t// 购物车 l里面的总金额\r\n\t\t\t\tbuyGoods: [],\r\n\t\t\t\tcarSumMoney: 0,\r\n\t\t\t\t// 购物车 使用红包得钱\r\n\t\t\t\tuserRedSumMoney:0,\r\n\t\t\t\tcarSumji: 0,\r\n\t\t\t\t// c从购物车过来的数量\r\n\t\t\t\tsumNUMber: 0,\r\n\t\t\t\tuseRedPacket:'',\r\n\t\t\t\tidss:[],\r\n\t\t\t\t// 使用某个红包得ID\r\n\t\t\t\t// 备注\r\n\t\t\t\t// 订单号:\r\n\t\t\t\torderNumber:0,\r\n\t\t\t\tspecialMakeMoney:''\r\n\t\t\t\t \r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\t this.setData(options);\r\n\t\t\t console.log(options);\r\n\t\t\t if(wx.getStorageSync('cartBuy')){\r\n\t\t\t\t  this.carList = wx.getStorageSync('cartBuy');\r\n\t\t\t\t  this.carList.map(res=>{\r\n\t\t\t\t\tthis.idss.push(res.id) ; \r\n\t\t\t\t  })\r\n\t\t\t     this.cartid= this.idss.join(',');\r\n\t\t\t }\r\n\t\t\t\r\n\t\t\tthis.goodsDetail();\r\n\t\t\tthis.CarList();\r\n\t\t\tthis.get_redList();\r\n\t\t\t  // 从详情页面过来的总金额\r\n\t\t\tthis.detailSumMoney=this.num*this.price;\r\n\t\t\t// 打开需要\r\n\t\t\t this.addlist();\r\n\t\t\t\r\n\t\t},\r\n\t\t// 页面显示\r\n\t\tonShow() {\r\n\t\t\tconsole.log('onShow 页面显示');\r\n\t\t\t// 获取地址列表\r\n\t\t\t\r\n\t\t\t//获得红包列表\r\n\t\t\t// this.CarList();\r\n\t\t\tthis.$forceUpdate();\r\n\t\t\tthis.addlist();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//商品详情页的商品\r\n\t\t\tgoodsDetail(ids) {\r\n\t\t\t\tuni.wjw_http({\r\n\t\t\t\t\turl: \"saleevent/info/\" + (ids || this.id),\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: ids || this.id,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// console.log('商品详情页的商品 接口 请求成功', res);\r\n\t\t\t\t\tvar goods = res.result || {};\r\n\t\t\t\t\tthis.goods = goods;\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 是否自提的按钮\r\n\t\t\tselfRaise(e){\r\n\t\t\t\tthis.isSelfTake=e.target.value\r\n\t\t\t},\r\n\t\t\t//购物车的商品\r\n\t\t\tCarList() {\r\n\t\t\t\tthis.carSumMoney = wx.getStorageSync('sumMoney');\r\n\t\t\t\tthis.carSumji = wx.getStorageSync('sunJifen');\r\n\t\t\t\tthis.carList = wx.getStorageSync('cartBuy');\r\n\t\t\t\tthis.userRedSumMoney=this.carSumMoney;\r\n\t\t\t\tif(this.carList){\r\n\t\t\t\t\tthis.carList.map(res => {\r\n\t\t\t\t\tlet a =Number(res.buy_num) \r\n\t\t\t\t\tthis.sumNUMber = this.sumNUMber + a;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (this.carSumMoney >0) {\r\n\t\t\t\t\t\tthis.type = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\t// 获取地址列表_回调\r\n\t\t\taddlist_back(res) {\r\n\t\t\t\tconsole.log('获取地址列表_回调', res);\r\n\t\t\t\t// if(this.articleList.length>0){\r\n\t\t\t\t// \tthis.addressid = this.articleList[0].id\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \tthis.addressid = this.addressid;\r\n\t\t\t\t// }\r\n\t\t\t\t this.addressid || (this.addressid = this.articleList[0].id);\r\n\t\t\t\r\n\t\t\t\tif (this.type == \"0\") {\r\n\t\t\t\t\tvar repIds = this.id2;\r\n\t\t\t\t\t//商品详情过来的 获取运费等信息\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createExpress(this.addressid, this.num, repIds);\r\n\t\t\t\t} else if (this.type == \"1\") {\r\n\t\t\t\t\tthis.cartExpress(this.addressid, this.cartid); //购物车商品获取运费等信息\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 获取运费信息-商品详情结算\r\n\t\t\tcreateExpress(addressid, counts, repIds) {\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t//商品规格\r\n\t\t\t\tthat.repIds=repIds\r\n\t\t\t\tlet userData = wx.getStorageSync('user');\r\n\t\t\t\tlet id =userData.id;\r\n\t\t\t\tif(that.isSelfTake ==true){\r\n\t\t\t\t\tthat.isSelfTake =1\r\n\t\t\t\t}\r\n\t\t\t\telse if (that.isSelfTake ==false) {\r\n\t\t\t\t\tthat.isSelfTake =0\r\n\t\t\t\t}\r\n\t\t\t\tuni.wjw_http({\r\n\t\t\t\t\turl: 'api/createOrder',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuserId: id,\r\n\t\t\t\t\t\taddressId: addressid || that.addressid,\r\n\t\t\t\t\t\tcounts: counts,\r\n\t\t\t\t\t\tisFirst: 1,\r\n\t\t\t\t\t\tid:that.id,\r\n\t\t\t\t\t\tmemo:that.memo,\r\n\t\t\t\t\t\tcounts:that.num,\r\n\t\t\t\t\t\t// payType: 1,\r\n\t\t\t\t\t\tredId:that.redId,\r\n\t\t\t\t\t\trepIds: repIds,\r\n\t\t\t\t\t\tisSelfTake:that.isSelfTake\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.status==0){\r\n\t\t\t\t\t\tvar data = res;\r\n\t\t\t\t\t\tthis.orderNumber=data.order_code\r\n\t\t\t\t\t\tthat.createExpressOk(data);\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.signalMsg=res.msg;\r\n\t\t\t\t\t\tthat.signalFlag=true;\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.signalFlag=false;\r\n\t\t\t\t\t\t},2500)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\t\t\t// 获取运费信息-购物车结算\r\n\t\t\tcartExpress(addressid, cartIds) {\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t// console.log('获取运费信息-购物车结算', arguments);\r\n\t\t\t\tif(that.isSelfTake ==true){\r\n\t\t\t\t\tthat.isSelfTake =1\r\n\t\t\t\t}\r\n\t\t\t\telse if (that.isSelfTake ==false) {\r\n\t\t\t\t\tthat.isSelfTake =0\r\n\t\t\t\t}\r\n\t\t\t\tlet id = wx.getStorageSync('user').id;\r\n\t\t\t\tuni.wjw_http({\r\n\t\t\t\t\turl: 'api/createOrderByCart',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t userId: id,\r\n\t\t\t\t\t\t password:'',\r\n\t\t\t\t\t\t  // payType:2,\r\n\t\t\t\t\t\taddressId: addressid,\r\n\t\t\t\t\t\tmemo:that.memo,\r\n\t\t\t\t\t\tcartIds: cartIds,\r\n\t\t\t\t\t\tisFirst: 1,\r\n\t\t\t\t\t\tredId:that.redId,\r\n\t\t\t\t\t\tisSelfTake:that.isSelfTake\t\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// console.log('获取运费信息-购物车结算 接口 请求成功', res);\r\n\t\t\t\t\tvar data = res;\r\n\t\t\t\t\t this.orderNumber=data.order_code\r\n\t\t\t\t\tthis.createExpressOk(data);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取运费信息-砍价商品\r\n\t\t\tbargainExpress(addressid, bargainId) {\r\n\t\t\t\tconsole.log('获取运费信息-砍价商品', arguments);\r\n\t\t\t\tvar userData = wx.getStorageSync('userData');\r\n\t\t\t\tif (userData) {\r\n\t\t\t\t\tvar id = userData.user.id;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tuni.wjw_http({\r\n\t\t\t\t\turl: 'api/createOrder',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuserId: id,\r\n\t\t\t\t\t\taddressId: addressid,\r\n\t\t\t\t\t\tbargainId: bargainId,\r\n\t\t\t\t\t\tcounts: 1,\r\n\t\t\t\t\t\tisFirst: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.status ==0){\r\n\t\t\t\t\t\tconsole.log('获取运费信息-砍价商品 接口 请求成功', res);\r\n\t\t\t\t\t\tvar data = res;\r\n\t\t\t\t\t\t// bargainExpressOk\r\n\t\t\t\t\t\tthis.createExpressOk(data);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.signalMsg=res.msg;\r\n\t\t\t\t\t\tthis.signalFlag=true;\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.signalFlag=false;\r\n\t\t\t\t\t\t},2500)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//商品详情过来商品运费调用快递函数成功回调\r\n\t\t\t// 运费调用快递函数\r\n\t\t\tcreateExpressOk(data) {\r\n\t\t\t\t// console.log('运费调用快递函数');\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tvar info = data.result;\r\n\t\t\t\t\tif (data.status == 0) {\r\n\t\t\t\t\t\tvar totalmPrice = (info.total_price / 100).toFixed(2);\r\n\t\t\t\t\t\tvar freight = (info.freight / 100).toFixed(2);\r\n\t\t\t\t\t\tif (info.freight <= 0) {\r\n\t\t\t\t\t\t\tthis.express = '0.00';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.express = freight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotalmPrice = totalmPrice - info.freight; //减去邮费\r\n\t\t\t\t\t\tthis.totalmPrice = totalmPrice;\r\n\t\t\t\t\t\tthis.total_points = info.total_points;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获得红包列表\r\n\t\t\tget_redList() {\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tvar userData = wx.getStorageSync('userData');\r\n\t\t\t\tuni.wjw_http({\r\n\t\t\t\t\turl: \"red/list\",\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttoken: userData.token,\r\n\t\t\t\t\t\tuserId: userData.user.id,\r\n\t\t\t\t\t\t// status: 0,// 选填 0未使用 1已使用 \r\n\t\t\t\t\t\tstatus:0\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log('获得红包列表 接口 请求成功', res);\r\n\t\t\t\t\tthat.redList = res.result;\r\n\t\t\t\t\tthat.redList.map(res=>{\r\n                   // 判断红包是否可以使用\r\n        \r\n\t\t\t\t   // 在这里判断 红包数值 是否大于账单值\r\n\t\t\t\t   let a=(res.limitMoney)/100;\r\n\t\t\t\t   let cc=that.num*that.price;\r\n\t\t\t\t  // disable为true的时候 不可以点击选择使用\r\n\t\t\t\t   if(cc>0){\r\n\t\t\t\t\t    if(a>=cc){\r\n\t\t\t\t\t\t\tres.disable=true;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tres.disable=false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t   }else if(that.carSumMoney>0){\r\n\t\t\t\t\t     if(a>=that.carSumMoney){\r\n\t\t\t\t\t\t\t res.disable=true;\r\n\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t res.disable=false\r\n\t\t\t\t\t\t }\r\n\t\t\t\t   }\r\n\t\t\t\t\t\t// 给所有的红包 设置 不选中的状态\r\n\t\t\t\t\t\tres.flags=false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 选择某一个券\r\n\t\t\tchoice(index){\r\n\t\t\t\tthis.redList.map((value,key,arr)=>{\r\n\t\t\t\t\t// 这里设置 能选择一个\r\n\t\t\t\t\tif(index!=key){\r\n\t\t\t\t\t\tvalue.flags=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif(this.redList[index].disable==false){\r\n\t\t\t\t\tthis.redList[index].flags=(this.redList[index].flags== false?true:false)\r\n\t\t\t\t}else{\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t//不用红包\r\n\t\t\tuseless(){\r\n\t\t\t\tthis.redList.map(res=>{\r\n\t\t\t\t\tres.flags=false\r\n\t\t\t\t})\r\n\t\t\t\tthis.useRedPacket=0;\r\n\t\t\t\t// 购物车过来的不使用红包的时候的钱\r\n\t\t\t\tthis.userRedSumMoney=this.carSumMoney;\r\n\t\t\t\tthis.detailSumMoney=this.num*this.price;\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\t//使用红包\r\n\t\t\tuseful(){\r\n\t\t\t\tthis.redList.map(res=>{\r\n\t\t\t\tif(res.flags==true){\r\n\t\t\t\t\tthis.redId=res.id;\r\n\t\t\t\t\tthis.useRedPacket=res.money/100;\r\n\t\t\t\t\tthis.packets_show=false;\r\n\t\t\t\t}\r\n\t\t\t\t})\t\t\t\t\r\n\t\t\t\tif(this.type ==0){\r\n\t\t\t\t\tthis.detailSumMoney=(this.num*this.price)-this.useRedPacket;\r\n\t\t\t\t\tthis.totalmPrice=this.detailSumMoney;\t\t\t\t\t\r\n\t\t\t\t}else if(this.type ==1){\r\n\t\t\t\t\tthis.userRedSumMoney=this.carSumMoney-this.useRedPacket;\r\n\t\t\t\t\tthis.totalmPrice=this.userRedSumMoney;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\t// 关闭红包页面 所有的金额回到最初\r\n\t\t\tcloseRed(){\r\n\t\t\t\tthis.redList.map(res=>{\r\n\t\t\t\t\tres.flags=false;\r\n\t\t\t\t\tthis.useRedPacket=0;\r\n\t\t\t\t\tif(this.type ==0){\r\n\t\t\t\t\t\tthis.detailSumMoney=this.num*this.price;\r\n\t\t\t\t\t\tthis.totalmPrice=this.detailSumMoney;\r\n\t\t\t\t\t}else if(this.type ==1){\r\n\t\t\t\t\t\tthis.userRedSumMoney=this.carSumMoney;\r\n\t\t\t\t\t\tthis.totalmPrice=this.userRedSumMoney;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.packets_show=false;\r\n\t\t\t},\r\n\t\t\t// 结算 去付钱\r\n\t\t\tpayMoney(){\r\n\t\t\t\tthis.jifen_show=false;\r\n\t\t\t\tthis.addlist_back();\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl:'/pages/shopCar/payment?money='+this.totalmPrice+'&orderNumber='+ this.orderNumber+'&memo='+ this.memo+'&isSelfTake='+ this.isSelfTake+'&repIds='+ this.repIds+'&id='+ this.id+'&addressId='+this.addressid+'&cartId='+this.cartid+'&type='+this.type+'&counts='+this.num+'&specialMakeMoney='+this.specialMakeMoney\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.confirmorder-top{\r\n\t\tmargin-top: 0!important;\r\n\t}\r\n\t.styleAll {\r\n\t\twidth: 750rpxt;\r\n\t\theight: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\r\n\t\t.left {\r\n\t\t\tmargin-left: 40rpx !important;\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\tmargin-right: 40rpx !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.beizhu {\r\n\t\t.right {\r\n\t\t\twidth: 530rpx !important;\r\n\t\t\tmargin-right: 40rpx !important;\r\n\t\t\ttext-align: right;\r\n\t\t\tmargin-left: 0 !important;\r\n\t\t}\r\n\t}\r\n\t.botton-mon {\r\n\t\tbackground-color: #fff;\r\n\t\ttext-align: center !important;\r\n\t}\r\n\t.botton-finish {\r\n\t\tpadding: 0rpx !important;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\t.position{\r\n\t\ttop:50rpx!important;\r\n\t}\r\n\t\r\n\t.hbyOccurFlag{\r\n\t\t\tposition: absolute;\r\n\t\t\ttop:400rpx;\r\n\t\t\tleft:250rpx;\r\n\t\t\tbackground-color: green;\r\n\t\t\twidth:300rpx;\r\n\t\t\theight:100rpx;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\tbackground-color: #000;\r\n\t\t\tcolor:#fff;\r\n\t\t\ttext-align: center;\r\n\t\t\topacity: 0.7;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t}\r\n</style>\r\n","import mod from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=style&index=0&id=5dae12f2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=style&index=0&id=5dae12f2&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1601191046281\n      var cssReload = require(\"C:/Users/19217/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./wjw_com.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C19217%5CDesktop%5Cworks%5Czhixiang%5Cpages%5Cconfirmorder.vue&module=wjw_wxs&lang=wxs\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./wjw_com.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C19217%5CDesktop%5Cworks%5Czhixiang%5Cpages%5Cconfirmorder.vue&module=wjw_wxs&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}