(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addressManage"],{"3b49":function(t,e,n){"use strict";(function(t){n("a53d");a(n("66fd"));var e=a(n("cb53"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"4d88":function(t,e,n){},"4fcc":function(t,e,n){"use strict";n.r(e);var a=n("8cc6"),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=s.a},"82e6":function(t,e,n){"use strict";var a,s=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}))},"8cc6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){n.e("component/css/light7_min").then(function(){return resolve(n("6800"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("component/css/light7_swiper_min").then(function(){return resolve(n("812e"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("component/css/main").then(function(){return resolve(n("1321"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("component/css/ljh_main").then(function(){return resolve(n("f547"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("component/css/page/addressManage").then(function(){return resolve(n("c384"))}.bind(null,n)).catch(n.oe)},c={components:{addressManage:d,ljh_main:o,main:i,light7_swiper_min:s,light7_min:a},data:function(){return{types:"",articleList:[]}},onLoad:function(t){this.setData(t),this.addlist()},onShow:function(){this.addlist()},methods:{addlist:function(){var e=this,n=wx.getStorageSync("userData");if(n)var a=n.user.id,s=n.token;t.wjw_http({url:"address/list",data:{userId:a,token:s}}).then((function(t){0==t.status&&(e.articleList=t.result||[])}))},choose:function(e,n){var a=n,s=this.dataset(e),i=s.id,o=getCurrentPages();o.pop();var d=o.pop().$vm;d.addressid=i;var c=wx.getStorageSync("user").id;t.wjw_http({url:"address/update",data:{id:a.id,userId:c,addressee:a.addressee,address:a.address,phone:a.phone,is_default:1,province_id:a.province_id,city_id:a.city_id,area_id:a.area_id}}).then((function(t){0==t.status&&wx.navigateBack()}))},address_edit:function(e,n,a,s,i,o,d,c){t.navigateTo({url:"/pages/editAddress?id="+e+"&addressee="+n+"&phone="+a+"&province_name="+s+"&city_name="+i+"&area_name="+o+"&address="+d+"&is_default="+c})},address_update:function(e){var n=this,a=this.dataset(e),s=a.index,i=a.type,o=wx.getStorageSync("userData"),d=o.user.id,c=o.token,r=this.articleList[s],u={token:c,userId:d,id:r.id};if("is_default"==i){var l=0==r.is_default?1:0;u.is_default=l,console.log("编辑地址 data",u)}else Object.assign(u,r);t.wjw_http({url:"address/update",data:u}).then((function(t){console.log("编辑地址 接口 请求成功",t),n.articleList.map((function(t){return t.is_default=0})),n.articleList[s].is_default=l}))},address_delete:function(e){var n=this;console.log("删除地址",arguments,JSON.stringify(arguments));var a=this.dataset(e),s=a.id,i=wx.getStorageSync("userData"),o=i.user.id,d=i.token;console.log(s),console.log("删除"),t.showModal({title:"提示",content:"确认删除此地址",success:function(e){e.confirm?t.wjw_http({url:"address/delete/"+s,data:{token:d,userId:o,id:s}}).then((function(t){0==t.status&&(n.addlist(),n.$forceUpdate())})):e.cancel&&console.log("用户点击取消")}})}}};e.default=c}).call(this,n("543d")["default"])},cb53:function(t,e,n){"use strict";n.r(e);var a=n("82e6"),s=n("4fcc");for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);n("d526");var o,d=n("f0c5"),c=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"12098643",null,!1,a["a"],o);e["default"]=c.exports},d526:function(t,e,n){"use strict";var a=n("4d88"),s=n.n(a);s.a}},[["3b49","common/runtime","common/vendor"]]]);