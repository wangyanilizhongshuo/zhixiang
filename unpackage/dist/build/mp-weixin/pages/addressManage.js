(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addressManage"],{"263a":function(t,e,n){"use strict";var a,s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){"choose"==t.types&&t.choose(e)})},o=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"3b49":function(t,e,n){"use strict";(function(t){n("a53d");a(n("66fd"));var e=a(n("cb53"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"4fcc":function(t,e,n){"use strict";n.r(e);var a=n("8cc6"),s=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},5862:function(t,e,n){"use strict";var a=n("fa9d"),s=n.n(a);s.a},"8cc6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){n.e("component/css/light7_min").then(function(){return resolve(n("6800"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("component/css/light7_swiper_min").then(function(){return resolve(n("812e"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("component/css/main").then(function(){return resolve(n("1321"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("component/css/ljh_main").then(function(){return resolve(n("f547"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("component/css/page/addressManage").then(function(){return resolve(n("c384"))}.bind(null,n)).catch(n.oe)},r={components:{addressManage:c,ljh_main:i,main:o,light7_swiper_min:s,light7_min:a},data:function(){return{types:"",articleList:[]}},onLoad:function(t){this.setData(t),this.addlist()},onShow:function(){this.addlist()},methods:{addlist:function(){var e=this,n=wx.getStorageSync("userData");if(n)var a=n.user.id,s=n.token;t.wjw_http({url:"address/list",data:{userId:a,token:s}}).then((function(t){0==t.status&&(e.articleList=t.result||[])}))},choose:function(t){console.log("选择地址",arguments);var e=this.dataset(t),n=e.id,a=getCurrentPages();a.pop();var s=a.pop().$vm;s.addressid=n,wx.navigateBack()},address_edit:function(e,n,a,s,o,i,c,r){t.navigateTo({url:"/pages/editAddress?id="+e+"&addressee="+n+"&phone="+a+"&province_name="+s+"&city_name="+o+"&area_name="+i+"&address="+c+"&is_default="+r})},address_update:function(e){var n=this;console.log("编辑地址",arguments);var a=this.dataset(e),s=a.index,o=a.type,i=wx.getStorageSync("userData"),c=i.user.id,r=i.token,u=this.articleList[s],d={token:r,userId:c,id:u.id};if("is_default"==o){var l=0==u.is_default?1:0;d.is_default=l,console.log("编辑地址 data",d)}else Object.assign(d,u);t.wjw_http({url:"address/update",data:d}).then((function(t){console.log("编辑地址 接口 请求成功",t),n.articleList.map((function(t){return t.is_default=0})),n.articleList[s].is_default=l}))},address_delete:function(e){var n=this;console.log("删除地址",arguments,JSON.stringify(arguments));var a=this.dataset(e),s=a.id,o=wx.getStorageSync("userData"),i=o.user.id,c=o.token;console.log(s),console.log("删除"),t.showModal({title:"提示",content:"确认删除此地址",success:function(e){e.confirm?t.wjw_http({url:"address/delete/"+s,data:{token:c,userId:i,id:s}}).then((function(t){0==t.status&&(n.addlist(),n.$forceUpdate())})):e.cancel&&console.log("用户点击取消")}})}}};e.default=r}).call(this,n("543d")["default"])},cb53:function(t,e,n){"use strict";n.r(e);var a=n("263a"),s=n("4fcc");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("5862");var i,c=n("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=r.exports},fa9d:function(t,e,n){}},[["3b49","common/runtime","common/vendor"]]]);