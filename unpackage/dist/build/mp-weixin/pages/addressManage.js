(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addressManage"],{"3b49":function(t,e,n){"use strict";(function(t){n("a53d");a(n("66fd"));var e=a(n("cb53"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"4fcc":function(t,e,n){"use strict";n.r(e);var a=n("8cc6"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"51b8":function(t,e,n){},"608f":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},s=[]},8872:function(t,e,n){"use strict";var a=n("51b8"),i=n.n(a);i.a},"8cc6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){n.e("component/css/light7_min").then(function(){return resolve(n("6800"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("component/css/light7_swiper_min").then(function(){return resolve(n("812e"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("component/css/main").then(function(){return resolve(n("1321"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("component/css/ljh_main").then(function(){return resolve(n("f547"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("component/css/page/addressManage").then(function(){return resolve(n("c384"))}.bind(null,n)).catch(n.oe)},d={components:{addressManage:c,ljh_main:o,main:s,light7_swiper_min:i,light7_min:a},data:function(){return{types:"",articleList:[]}},onLoad:function(t){this.setData(t),this.addlist()},onShow:function(){this.addlist()},methods:{addlist:function(){var e=this;console.log(12321343523);var n=wx.getStorageSync("user");if(n){n.id;t.wjw_http({url:"address/list",data:{userId:n.id}}).then((function(t){0==t.status&&(e.articleList=t.result||[],console.log(e.articleList),console.log(123213432))}))}},choose:function(e,n){var a=n,i=this.dataset(e),s=i.id,o=getCurrentPages();o.pop();var c=o.pop().$vm;c.addressid=s;var d=wx.getStorageSync("user").id;t.wjw_http({url:"address/update",data:{id:a.id,userId:d,addressee:a.addressee,address:a.address,phone:a.phone,is_default:1,province_id:a.province_id,city_id:a.city_id,area_id:a.area_id}}).then((function(t){0==t.status&&wx.navigateBack()}))},address_edit:function(e,n,a,i,s,o,c,d){t.navigateTo({url:"/pages/editAddress?id="+e+"&addressee="+n+"&phone="+a+"&province_name="+i+"&city_name="+s+"&area_name="+o+"&address="+c+"&is_default="+d})},address_update:function(e){var n=this,a=this.dataset(e),i=a.index,s=a.type,o=wx.getStorageSync("userData"),c=o.id,d=wx.getStorageSync("token"),r=this.articleList[i],u={token:d,userId:c,id:r.id};if("is_default"==s){var l=0==r.is_default?1:0;u.is_default=l,console.log("编辑地址 data",u)}else Object.assign(u,r);t.wjw_http({url:"address/update",data:u}).then((function(t){console.log("编辑地址 接口 请求成功",t),n.articleList.map((function(t){return t.is_default=0})),n.articleList[i].is_default=l}))},address_delete:function(e){var n=this;console.log("删除地址",arguments,JSON.stringify(arguments));var a=this.dataset(e),i=a.id,s=wx.getStorageSync("userData"),o=s.id;wx.getStorageSync("token");console.log(i),console.log("删除"),t.showModal({title:"提示",content:"确认删除此地址",success:function(e){e.confirm?t.wjw_http({url:"address/delete/"+i,data:{userId:o,id:i}}).then((function(t){0==t.status&&(n.addlist(),n.$forceUpdate())})):e.cancel&&console.log("用户点击取消")}})}}};e.default=d}).call(this,n("543d")["default"])},cb53:function(t,e,n){"use strict";n.r(e);var a=n("608f"),i=n("4fcc");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("8872");var o,c=n("f0c5"),d=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"2a49a24c",null,!1,a["a"],o);e["default"]=d.exports}},[["3b49","common/runtime","common/vendor"]]]);